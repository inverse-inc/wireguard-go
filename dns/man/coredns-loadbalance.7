.\" Generated by Mmark Markdown Processer - mmark.miek.nl
.TH "COREDNS-LOADBALANCE" 7 "October 2020" "CoreDNS" "CoreDNS Plugins"

.SH "NAME"
.PP
\fIloadbalance\fP - randomizes the order of A, AAAA and MX records.

.SH "DESCRIPTION"
.PP
The \fIloadbalance\fP will act as a round-robin DNS load balancer by randomizing the order of A, AAAA,
and MX records in the answer.

.PP
See Wikipedia
\[la]https://en.wikipedia.org/wiki/Round-robin_DNS\[ra] about the pros and cons of this
setup. It will take care to sort any CNAMEs before any address records, because some stub resolver
implementations (like glibc) are particular about that.

.SH "SYNTAX"
.PP
.RS

.nf
loadbalance [POLICY]

.fi
.RE

.IP \(bu 4
\fBPOLICY\fP is how to balance. The default, and only option, is "round_robin".


.SH "EXAMPLES"
.PP
Load balance replies coming back from Google Public DNS:

.PP
.RS

.nf
\&. {
    loadbalance round\_robin
    forward . 8.8.8.8 8.8.4.4
}

.fi
.RE

